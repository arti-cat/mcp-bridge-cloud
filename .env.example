# MCP Bridge Cloud - Environment Variables Template
# Copy this file to .env and fill in your actual values
# NEVER commit .env to git (it's in .gitignore)

# ============================================
# Server Runtime Secrets
# ============================================
# These are used by the Node.js server at runtime
# In production, set these via: flyctl secrets set NAME="value"

# Supabase Database Connection
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_KEY=your_supabase_service_role_key_here
SUPABASE_ANON_KEY=your_supabase_anon_key_here

# Cloudflare (for SSL certificate provisioning)
CLOUDFLARE_API_TOKEN=your_cloudflare_api_token_here

# ============================================
# Dashboard Build-time Secrets
# ============================================
# These are embedded into the dashboard during build
# In production, pass via: --build-arg VITE_SUPABASE_URL="value"
# In development, Vite reads from this .env file

# Supabase Client Connection (embedded in browser code)
VITE_SUPABASE_URL=https://your-project.supabase.co
VITE_SUPABASE_ANON_KEY=your_supabase_anon_key_here

# App URL (where dashboard is hosted)
VITE_APP_URL=http://localhost:5173

# ============================================
# Optional Settings
# ============================================

# Server port (default: 8080)
PORT=8080

# Server host (default: 0.0.0.0)
HOST=0.0.0.0

# Node environment (development | production)
NODE_ENV=development

# ============================================
# Where to Get These Values
# ============================================

# SUPABASE_URL & Keys:
#   1. Go to: https://supabase.com/dashboard/project/YOUR_PROJECT/settings/api
#   2. Copy "Project URL" → SUPABASE_URL and VITE_SUPABASE_URL
#   3. Copy "anon public" key → SUPABASE_ANON_KEY and VITE_SUPABASE_ANON_KEY
#   4. Copy "service_role" key → SUPABASE_SERVICE_KEY

# CLOUDFLARE_API_TOKEN:
#   1. Go to: https://dash.cloudflare.com/profile/api-tokens
#   2. Create token with "Zone:DNS:Edit" and "Zone:Zone:Read" permissions
#   3. Copy token → CLOUDFLARE_API_TOKEN

# ============================================
# Production Deployment
# ============================================

# Set Fly.io secrets (runtime):
# flyctl secrets set SUPABASE_URL="https://..." --app mcp-bridge-cloud
# flyctl secrets set SUPABASE_SERVICE_KEY="..." --app mcp-bridge-cloud
# flyctl secrets set SUPABASE_ANON_KEY="..." --app mcp-bridge-cloud
# flyctl secrets set CLOUDFLARE_API_TOKEN="..." --app mcp-bridge-cloud

# Set GitHub secrets (build-time):
# Go to: https://github.com/YOUR_ORG/YOUR_REPO/settings/secrets/actions
# Add: FLY_API_TOKEN
# Add: VITE_SUPABASE_URL
# Add: VITE_SUPABASE_ANON_KEY

# ============================================
# Security Notes
# ============================================

# NEVER commit .env to git
# NEVER share service_role key (full database access)
# anon key is safe to expose (has RLS protections)
# Rotate keys if ever compromised
